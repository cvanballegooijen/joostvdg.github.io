
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://joostvdg.github.io/jenkins-jobs/jenkins-jobs-builder/">
      
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.7.4">
    
    
      
        <title>JenkinsJobsBuilder - Joostvdg's Jenkins Page</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-1df76c4e58.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-769c285a91.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-02c2a4388f.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono">
        <style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="blue-grey" data-md-color-accent="deep-purple">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="https://joostvdg.github.io" title="Joostvdg's Jenkins Page" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Jenkins Job Management
                </span>
              
            
            JenkinsJobsBuilder
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/joostvdg/joostvdg.github.io" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      joostvdg/joostvdg.github.io
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    Joostvdg's Jenkins Page
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/joostvdg/joostvdg.github.io" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      joostvdg/joostvdg.github.io
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../jenkins/" title="Jenkins" class="md-nav__link">
      Jenkins
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Jenkins Job Management
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Jenkins Job Management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../jobdsl/" title="JobDSL" class="md-nav__link">
      JobDSL
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        JenkinsJobsBuilder
      </label>
    
    <a href="./" title="JenkinsJobsBuilder" class="md-nav__link md-nav__link--active">
      JenkinsJobsBuilder
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basic-configuration" title="Basic Configuration" class="md-nav__link">
    Basic Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#job-configuration" title="Job Configuration" class="md-nav__link">
    Job Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#macros" title="Macro’s" class="md-nav__link">
    Macro’s
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#global-defaults" title="Global defaults" class="md-nav__link">
    Global defaults
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#job-configuration-defaults" title="Job configuration defaults" class="md-nav__link">
    Job configuration defaults
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#templates" title="Templates" class="md-nav__link">
    Templates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#groups" title="Groups" class="md-nav__link">
    Groups
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#projects" title="Projects" class="md-nav__link">
    Projects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#job-definitions" title="Job definitions" class="md-nav__link">
    Job definitions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" title="Usage" class="md-nav__link">
    Usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tips-trick" title="Tips &amp; Trick" class="md-nav__link">
    Tips &amp; Trick
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Jenkins Pipelines
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Jenkins Pipelines
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../jenkins-pipeline/declarative-pipeline/" title="Pipeline (declarative)" class="md-nav__link">
      Pipeline (declarative)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../jenkins-pipeline/groovy-pipeline/" title="Groovy DSL Pipeline" class="md-nav__link">
      Groovy DSL Pipeline
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../jenkins-pipeline/global-shared-library/" title="Pipeline Libraries" class="md-nav__link">
      Pipeline Libraries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../jenkins-pipeline/ide-integration-pipeline-dsl/" title="DSL IDE Integration" class="md-nav__link">
      DSL IDE Integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../jenkins-pipeline/jenkins-parallel-pipeline/" title="Parallel" class="md-nav__link">
      Parallel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../jenkins-pipeline/input/" title="Input" class="md-nav__link">
      Input
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basic-configuration" title="Basic Configuration" class="md-nav__link">
    Basic Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#job-configuration" title="Job Configuration" class="md-nav__link">
    Job Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#macros" title="Macro’s" class="md-nav__link">
    Macro’s
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#global-defaults" title="Global defaults" class="md-nav__link">
    Global defaults
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#job-configuration-defaults" title="Job configuration defaults" class="md-nav__link">
    Job configuration defaults
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#templates" title="Templates" class="md-nav__link">
    Templates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#groups" title="Groups" class="md-nav__link">
    Groups
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#projects" title="Projects" class="md-nav__link">
    Projects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#job-definitions" title="Job definitions" class="md-nav__link">
    Job definitions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" title="Usage" class="md-nav__link">
    Usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tips-trick" title="Tips &amp; Trick" class="md-nav__link">
    Tips &amp; Trick
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="jenkins-job-builder">Jenkins Job Builder<a class="headerlink" href="#jenkins-job-builder" title="Permanent link">&para;</a></h1>
<p>The configuration setup of Jenkins Job Builder is composed of two main categories. Basic configuration and job configuration. Job configuration can be further split into several sub categories.</p>
<h2 id="basic-configuration">Basic Configuration<a class="headerlink" href="#basic-configuration" title="Permanent link">&para;</a></h2>
<p>In the basic configuration you will have to specify how the Jenkins Job Builder CLI can connect to the Jenkins instance you want to configure and how it should act.</p>
<p>To use such a configuration file, you add --conf <path to configuration file> to the CLI command.</p>
<p>Example:
<div class="codehilite"><pre><span></span>localhost.ini
[job_builder]
ignore_cache=True
keep_descriptions=False
include_path=.:scripts:~/git/
recursive=False
exclude=.*:manual:./development
allow_duplicates=False

[jenkins]
#user=jenkins
#password=
url=http://localhost:8080/
</pre></div>

For more information see <a href="http://docs.openstack.org/infra/jenkins-job-builder/installation.html">http://docs.openstack.org/infra/jenkins-job-builder/installation.html</a>.</p>
<h3 id="job-configuration">Job Configuration<a class="headerlink" href="#job-configuration" title="Permanent link">&para;</a></h3>
<p>The configuration for configuring the jobs consists of several distinct parts which can all be in the same file or can be distributed in their own respected files.</p>
<p>These different parts can also be split into two different categories, those that are strictly linked within the configuration - via template matching - and those that are separate.</p>
<p>Separate:
* Macro’s
* Global defaults
* Job configuration defaults
* External configuration files</p>
<p>Linked:
* Templates
* Groups
* Projects
* Job definitions</p>
<p><img alt="JJB-Model" src="../../images/Jenkins-Job-Builder-Model.png" /></p>
<p>Here’s a schematic representation on how they are linked.
Exampe in YAML config:
<div class="codehilite"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">job-template</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;{name}-{configComponentId}-ci&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&#39;CI</span><span class="nv"> </span><span class="s">Job</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">{configComponentId}&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;&lt;</span><span class="p p-Indicator">:</span> <span class="nv">*config_job_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">builders</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">shell</span><span class="p p-Indicator">:</span> <span class="s">&#39;jenkins-jobs</span><span class="nv"> </span><span class="s">test</span><span class="nv"> </span><span class="s">-r</span><span class="nv"> </span><span class="s">global/:definitions/</span><span class="nv"> </span><span class="s">-o</span><span class="nv"> </span><span class="s">compiled/&#39;</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">job-template</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;{name}-{configComponentId}-execute&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&#39;Executor</span><span class="nv"> </span><span class="s">Job</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">{configComponentId}&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;&lt;</span><span class="p p-Indicator">:</span> <span class="nv">*config_job_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">builders</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">shell</span><span class="p p-Indicator">:</span> <span class="s">&#39;jenkins-jobs</span><span class="nv"> </span><span class="s">--conf</span><span class="nv"> </span><span class="s">configuration/localhost.ini</span><span class="nv"> </span><span class="s">update</span><span class="nv"> </span><span class="s">definitions/&#39;</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">job-group</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;{name}-config&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">gitlab-user</span><span class="p p-Indicator">:</span> <span class="s">&#39;jvandergriendt&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">jobs</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&#39;{name}-{configComponentId}-ci&#39;</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&#39;{name}-{configComponentId}-execute&#39;</span><span class="p p-Indicator">:</span>

<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">project</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">RnD-Config</span>
    <span class="l l-Scalar l-Scalar-Plain">jobs</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&#39;{name}-config&#39;</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">configComponentId</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">JenkinsJobDefinitions</span>
</pre></div>

The above will result in the following jobs:
RnD-Config-JenkinsJobDefinitions-ci
RnD-Config-JenkinsJobDefinitions-execute</p>
<h2 id="macros">Macro’s<a class="headerlink" href="#macros" title="Permanent link">&para;</a></h2>
<p>Macro’s are what the name implies, a group of related commands which can be invoked by the group. In Jenkins Job Builder this means you can define specific configurations for a component type (e.g. builders, paramters, publishes etc).</p>
<p>A component has a name and a macro name. In general the component name is plural and the macro name is singular. As can be seen in the examples below.</p>
<p>Here’s an example:
<div class="codehilite"><pre><span></span><span class="c1"># The &#39;add&#39; macro takes a &#39;number&#39; parameter and will creates a</span>
<span class="c1"># job which prints &#39;Adding &#39; followed by the &#39;number&#39; parameter:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">builder</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">add</span>
    <span class="l l-Scalar l-Scalar-Plain">builders</span><span class="p p-Indicator">:</span>
     <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">shell</span><span class="p p-Indicator">:</span> <span class="s">&quot;echo</span><span class="nv"> </span><span class="s">Adding</span><span class="nv"> </span><span class="s">{number}&quot;</span>

<span class="c1"># A specialized macro &#39;addtwo&#39; reusing the &#39;add&#39; macro but with</span>
<span class="c1"># a &#39;number&#39; parameter hardcoded to &#39;two&#39;:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">builder</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">addtwo</span>
    <span class="l l-Scalar l-Scalar-Plain">builders</span><span class="p p-Indicator">:</span>
     <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">add</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">number</span><span class="p p-Indicator">:</span> <span class="s">&quot;two&quot;</span>

<span class="c1"># Glue to have Jenkins Job Builder to expand this YAML example:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">job</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&quot;testingjob&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">builders</span><span class="p p-Indicator">:</span>
     <span class="c1"># The specialized macro:</span>
     <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">addtwo</span>
     <span class="c1"># Generic macro call with a parameter</span>
     <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">add</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">number</span><span class="p p-Indicator">:</span> <span class="s">&quot;ZERO&quot;</span>
     <span class="c1"># Generic macro called without a parameter. Never do this!</span>
     <span class="c1"># See below for the resulting wrong output :(</span>
     <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">add</span>
</pre></div>
</p>
<p>To expand the schematic representation, you will get the following.</p>
<div class="codehilite"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">builder</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">test</span>
    <span class="l l-Scalar l-Scalar-Plain">builders</span><span class="p p-Indicator">:</span>
     <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">shell</span><span class="p p-Indicator">:</span> <span class="s">&quot;jenkins-jobs</span><span class="nv"> </span><span class="s">test</span><span class="nv"> </span><span class="s">-r</span><span class="nv"> </span><span class="s">global/:definitions/</span><span class="nv"> </span><span class="s">-o</span><span class="nv"> </span><span class="s">compiled/&quot;</span>

<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">builder</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">update</span>
    <span class="l l-Scalar l-Scalar-Plain">builders</span><span class="p p-Indicator">:</span>
     <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">shell</span><span class="p p-Indicator">:</span> <span class="s">&quot;jenkins-jobs</span><span class="nv"> </span><span class="s">--conf</span><span class="nv"> </span><span class="s">config.ini</span><span class="nv"> </span><span class="s">update</span><span class="nv"> </span><span class="s">-r</span><span class="nv"> </span><span class="s">global/:definitions/&quot;</span>

<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">job-template</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;{name}-{configComponentId}-ci&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;&lt;</span><span class="p p-Indicator">:</span> <span class="nv">*config_job_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">builders</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">test</span>

<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">job-template</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;{name}-{configComponentId}-update&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;&lt;</span><span class="p p-Indicator">:</span> <span class="nv">*config_job_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">builders</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">update</span>
</pre></div>


<h2 id="global-defaults">Global defaults<a class="headerlink" href="#global-defaults" title="Permanent link">&para;</a></h2>
<p>Global defaults are defaults that should be global for the jobs you configure for a certain environment. It is the job counterpart of the basic configuration, usually containing variables for the specific environment. For example, url’s, credential id’s, JDK’s etc.</p>
<p>Example:
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">global-defaults-localhost.yaml</span>
<span class="l l-Scalar l-Scalar-Plain">- defaults</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;global&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">flusso-gitlab-url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">https://gitlab.flusso.nl</span>
    <span class="l l-Scalar l-Scalar-Plain">nexus-npm-url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/nexus/content/repositories/npm-internal</span>
    <span class="l l-Scalar l-Scalar-Plain">default-jdk</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">JDK 1.8</span>
    <span class="l l-Scalar l-Scalar-Plain">jenkinsJobsDefinitionJobName</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">RnD-Config-JenkinsJobDefinitions-ci</span>
    <span class="l l-Scalar l-Scalar-Plain">credentialsId</span><span class="p p-Indicator">:</span> <span class="s">&#39;4f0dfb96-a7b1-421c-a4ea-b6a154f91b08&#39;</span>
</pre></div>
</p>
<h2 id="job-configuration-defaults">Job configuration defaults<a class="headerlink" href="#job-configuration-defaults" title="Permanent link">&para;</a></h2>
<p>Job configuration defaults are nothing specific on their own. It refers to using a build in structure from YAML to create basic building blocks to be used by other configuration parts, usually the Templates.</p>
<p>Example (definition):
<div class="codehilite"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">config_job_defaults</span><span class="p p-Indicator">:</span> <span class="nl">&amp;config_job_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;config_job_defaults&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">project-type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">freestyle</span>
    <span class="l l-Scalar l-Scalar-Plain">disabled</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
    <span class="l l-Scalar l-Scalar-Plain">logrotate</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">daysToKeep</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">7</span>
        <span class="l l-Scalar l-Scalar-Plain">numToKeep</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
        <span class="l l-Scalar l-Scalar-Plain">artifactDaysToKeep</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">-1</span>
        <span class="l l-Scalar l-Scalar-Plain">artifactNumToKeep</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">-1</span>
    <span class="l l-Scalar l-Scalar-Plain">jdk</span><span class="p p-Indicator">:</span> <span class="s">&#39;{default-jdk}&#39;</span>
</pre></div>

Example (usage):
<div class="codehilite"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">job-template</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;{name}-{configComponentId}-ci&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;&lt;</span><span class="p p-Indicator">:</span> <span class="nv">*config_job_defaults</span>
</pre></div>
</p>
<h2 id="templates">Templates<a class="headerlink" href="#templates" title="Permanent link">&para;</a></h2>
<p>Templates are used to define job templates. You define the entirety of the job using global defaults, configuration defaults and where useful refer to placeholders to be filled in by the other downstream configuration items.</p>
<p>You can configure almost every plugin that is available for Jenkins, these are divided in subdivisions which reflect the Jenkins’ job definition sections.</p>
<p>For these subdivision and the available plugins see: <a href="http://docs.openstack.org/infra/jenkins-job-builder/definition.html#modules">http://docs.openstack.org/infra/jenkins-job-builder/definition.html#modules</a></p>
<p>For those plugins that are not supported, you can include the raw XML generated by the plugin. For how to do this, see: <a href="http://docs.openstack.org/infra/jenkins-job-builder/definition.html#raw-config">http://docs.openstack.org/infra/jenkins-job-builder/definition.html#raw-config</a></p>
<p>Example:
<div class="codehilite"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">job-template</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;{name}-{configComponentId}-ci&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">display-name</span><span class="p p-Indicator">:</span> <span class="s">&#39;{name}-{configComponentId}-ci&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&#39;CI</span><span class="nv"> </span><span class="s">Job</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">{configComponentId}&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;&lt;</span><span class="p p-Indicator">:</span> <span class="nv">*config_job_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">builders</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">shell</span><span class="p p-Indicator">:</span> <span class="s">&#39;jenkins-jobs</span><span class="nv"> </span><span class="s">test</span><span class="nv"> </span><span class="s">-r</span><span class="nv"> </span><span class="s">global/:definitions/</span><span class="nv"> </span><span class="s">-o</span><span class="nv"> </span><span class="s">compiled/&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">publishers</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">archive</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">artifacts</span><span class="p p-Indicator">:</span> <span class="s">&#39;{filesToArchive_1}&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">fingerprint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">archive</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">artifacts</span><span class="p p-Indicator">:</span> <span class="s">&#39;{filesToArchive_2}&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">fingerprint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">email</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">notify-every-unstable-build</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
            <span class="l l-Scalar l-Scalar-Plain">send-to-individuals</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</p>
<h2 id="groups">Groups<a class="headerlink" href="#groups" title="Permanent link">&para;</a></h2>
<p>Groups are used to group together related components that require the same set of jobs. Where you can also specify a similar set of properties, for example, a different JDK to be used.</p>
<p>The name property is mandatory and will be used to match Job definitions.
The jobs property is also mandatory and will be used to match Templates for which a Job will be generated per matching Job definition.</p>
<p>Example
<div class="codehilite"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">job-group</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;{name}-gulp&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">gitlab-user</span><span class="p p-Indicator">:</span> <span class="s">&#39;jvandergriendt&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">artifactId</span><span class="p p-Indicator">:</span> <span class="s">&#39;{gulpComponentId}&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">jobs</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&#39;{name}-{gulpComponentId}-ci&#39;</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&#39;{name}-{gulpComponentId}-version&#39;</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&#39;{name}-{gulpComponentId}-sonar&#39;</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&#39;{name}-{gulpComponentId}-publish&#39;</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&#39;{name}-{gulpComponentId}-deploy-prep&#39;</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&#39;{name}-{gulpComponentId}-deploy&#39;</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&#39;{name}-{gulpComponentId}-acceptance&#39;</span><span class="p p-Indicator">:</span>
</pre></div>
</p>
<h2 id="projects">Projects<a class="headerlink" href="#projects" title="Permanent link">&para;</a></h2>
<p>Projects are used to list the actual Job definitions, which via grouping and Templates get generated, and can obviously be used to define jobs for a specific project.</p>
<p>The name property is mandatory and will be passed along with a Job definition and is generally used to tie job definitions to Groups.
<div class="codehilite"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">project</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">RnD-Maven</span>
    <span class="l l-Scalar l-Scalar-Plain">jobs</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&#39;{name}-keep&#39;</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">gulpComponentId</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">keep-backend</span>
            <span class="l l-Scalar l-Scalar-Plain">displayName</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Keep-Backend</span>
</pre></div>
</p>
<h2 id="job-definitions">Job definitions<a class="headerlink" href="#job-definitions" title="Permanent link">&para;</a></h2>
<p>Job definitions are what is all about. Although they are part of the Project configuration item I treat them separately.</p>
<p>You list the jobs under a Project and start with the name of the Group it belongs to.
After that, you should define at least a name component to be able to differentiate the different jobs you want. As can be seen in the above examples with the gulpComponentId.</p>
<p>External configuration files
Sometimes you run into the situation you want to use a multi-line configuration for a plugin, or a set of commands. Or, used at in different configurations or templates.</p>
<p>Then you run into the situation that it is very difficult to manage in them neatly inside YAML configuration files. For this situation you are able to simply include a text file, via a native YAML construct. See: <a href="http://docs.openstack.org/infra/jenkins-job-builder/definition.html#module-jenkins_jobs.local_yaml">http://docs.openstack.org/infra/jenkins-job-builder/definition.html#module-jenkins_jobs.local_yaml</a></p>
<p>For example
<div class="codehilite"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">job</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">test-job-include-raw-1</span>
    <span class="l l-Scalar l-Scalar-Plain">builders</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">shell</span><span class="p p-Indicator">:</span>
          <span class="kt">!include-raw</span> <span class="l l-Scalar l-Scalar-Plain">include-raw001-hello-world.sh</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">shell</span><span class="p p-Indicator">:</span>
          <span class="kt">!include-raw</span> <span class="l l-Scalar l-Scalar-Plain">include-raw001-vars.sh</span>
</pre></div>

</p>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<p>The information to how you use the tool is very well explained in the documentation. See <a href="http://docs.openstack.org/infra/jenkins-job-builder/installation.html#running">http://docs.openstack.org/infra/jenkins-job-builder/installation.html#running</a>
Automated maintenance
If all the jobs you can administer are done via Jenkins Job Builder, you can start to automate the maintenance of these jobs.</p>
<p>Simply make jobs that poll/push on the code base where you have your Jenkins Job Builder configuration files.</p>
<p>Example
<div class="codehilite"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">config_job_defaults</span><span class="p p-Indicator">:</span> <span class="nl">&amp;config_job_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;config_job_defaults&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">project-type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">freestyle</span>
    <span class="l l-Scalar l-Scalar-Plain">disabled</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
    <span class="l l-Scalar l-Scalar-Plain">logrotate</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">daysToKeep</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">7</span>
        <span class="l l-Scalar l-Scalar-Plain">numToKeep</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
        <span class="l l-Scalar l-Scalar-Plain">artifactDaysToKeep</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">-1</span>
        <span class="l l-Scalar l-Scalar-Plain">artifactNumToKeep</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">-1</span>
    <span class="l l-Scalar l-Scalar-Plain">jdk</span><span class="p p-Indicator">:</span> <span class="s">&#39;{default-jdk}&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">triggers</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pollscm</span><span class="p p-Indicator">:</span> <span class="s">&quot;H/15</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">scm</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">git</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">url</span><span class="p p-Indicator">:</span> <span class="s">&#39;{flusso-gitlab-url}/{gitlab-user}/{componentGitName}.git&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">credentials-id</span><span class="p p-Indicator">:</span> <span class="s">&#39;{credentialsId}&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">publishers</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">email</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">notify-every-unstable-build</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
            <span class="l l-Scalar l-Scalar-Plain">send-to-individuals</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">job-template</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;{name}-{configComponentId}-ci&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">display-name</span><span class="p p-Indicator">:</span> <span class="s">&#39;{name}-{configComponentId}-ci&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&#39;CI</span><span class="nv"> </span><span class="s">Job</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">{configComponentId}&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;&lt;</span><span class="p p-Indicator">:</span> <span class="nv">*config_job_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">builders</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">shell</span><span class="p p-Indicator">:</span> <span class="s">&#39;jenkins-jobs</span><span class="nv"> </span><span class="s">test</span><span class="nv"> </span><span class="s">-r</span><span class="nv"> </span><span class="s">global/:definitions/</span><span class="nv"> </span><span class="s">-o</span><span class="nv"> </span><span class="s">compiled/&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">publishers</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">archive</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">artifacts</span><span class="p p-Indicator">:</span> <span class="s">&#39;{filesToArchive_1}&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">fingerprint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">archive</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">artifacts</span><span class="p p-Indicator">:</span> <span class="s">&#39;{filesToArchive_2}&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">fingerprint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">email</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">notify-every-unstable-build</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
            <span class="l l-Scalar l-Scalar-Plain">send-to-individuals</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">job-template</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;{name}-{configComponentId}-x&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">display-name</span><span class="p p-Indicator">:</span> <span class="s">&#39;{name}-{configComponentId}-execute&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&#39;Executor</span><span class="nv"> </span><span class="s">Job</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">{configComponentId},</span><span class="nv"> </span><span class="s">it</span><span class="nv"> </span><span class="s">will</span><span class="nv"> </span><span class="s">execute</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">update</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">delete</span><span class="nv"> </span><span class="s">old</span><span class="nv"> </span><span class="s">command&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;&lt;</span><span class="p p-Indicator">:</span> <span class="nv">*config_job_defaults</span>
    <span class="l l-Scalar l-Scalar-Plain">builders</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">shell</span><span class="p p-Indicator">:</span> <span class="s">&#39;jenkins-jobs</span><span class="nv"> </span><span class="s">--conf</span><span class="nv"> </span><span class="s">configuration/localhost.ini</span><span class="nv"> </span><span class="s">update</span><span class="nv"> </span><span class="s">--delete-old</span><span class="nv"> </span><span class="s">-r</span><span class="nv"> </span><span class="s">global/:definitions/&#39;</span>

<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">job-group</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;{name}-config&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">gitlab-user</span><span class="p p-Indicator">:</span> <span class="s">&#39;jvandergriendt&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">jobs</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&#39;{name}-{configComponentId}-ci&#39;</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&#39;{name}-{configComponentId}-x&#39;</span><span class="p p-Indicator">:</span>

<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">project</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">RnD-Config</span>
    <span class="l l-Scalar l-Scalar-Plain">jobs</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&#39;{name}-config&#39;</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">configComponentId</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">JenkinsJobDefinitions</span>
            <span class="l l-Scalar l-Scalar-Plain">componentGitName</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">jenkins-job-definitions</span>
            <span class="l l-Scalar l-Scalar-Plain">filesToArchive_1</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">scripts/*.sh</span>
            <span class="l l-Scalar l-Scalar-Plain">filesToArchive_2</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">maven/settings.xml</span>
</pre></div>
</p>
<h2 id="tips-trick">Tips &amp; Trick<a class="headerlink" href="#tips-trick" title="Permanent link">&para;</a></h2>
<p>As the documentation is so extensive, it can sometimes be difficult to figure out what would be a good way to deal with some constructs.
Component identifier property
One important thing to keep in mind is that in order to create a whole set of jobs via the groups and templates it imperative to have a component* identifier property.</p>
<p>This way you can define hundreds of jobs in a project, dozens of groups and dozens of templates and generate thousands of unique individual jobs. Scale does not actually matter in this case, if you have more than one job in a project you will need this property. If the jobs that will be generated will not differ the execution will fail.</p>
<div class="admonition bulk">
<p class="admonition-title">Bulk</p>
<p>you can combine multiple files or even entire folder structures together in a single call. For example, if you manage all the jobs of a company or a department and configure them in separate files.</p>
</div>
<p>For example
<div class="codehilite"><pre><span></span>jenkins-jobs --conf configuration/localhost.ini update --delete-old -r global/:definitions/
</pre></div>
</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../jobdsl/" title="JobDSL" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                JobDSL
              </span>
            </div>
          </a>
        
        
          <a href="../../jenkins-pipeline/declarative-pipeline/" title="Pipeline (declarative)" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Pipeline (declarative)
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017 Joost van der Griendt
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-c35428f87f.js"></script>
      
      
      <script>app.initialize({url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>