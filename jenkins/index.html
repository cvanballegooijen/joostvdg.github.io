
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://joostvdg.github.io/jenkins/">
      
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.7.4">
    
    
      
        <title>Jenkins - Joostvdg's Jenkins Page</title>
      
    
    
      <script src="../assets/javascripts/modernizr-1df76c4e58.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-769c285a91.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-02c2a4388f.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono">
        <style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="blue-grey" data-md-color-accent="deep-purple">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="https://joostvdg.github.io" title="Joostvdg's Jenkins Page" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
            
            Jenkins
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/joostvdg/joostvdg.github.io" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      joostvdg/joostvdg.github.io
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    Joostvdg's Jenkins Page
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/joostvdg/joostvdg.github.io" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      joostvdg/joostvdg.github.io
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Jenkins
      </label>
    
    <a href="./" title="Jenkins" class="md-nav__link md-nav__link--active">
      Jenkins
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#base-configuration" title="Base configuration" class="md-nav__link">
    Base configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tuning" title="Tuning" class="md-nav__link">
    Tuning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pipeline-as-code" title="Pipeline as code" class="md-nav__link">
    Pipeline as code
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resources" title="Resources" class="md-nav__link">
    Resources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-of-pipeline-jobs" title="Type of pipeline jobs" class="md-nav__link">
    Type of pipeline jobs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api" title="API" class="md-nav__link">
    API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#plugin" title="Plugin" class="md-nav__link">
    Plugin
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dos-and-dont" title="Do's and Don't" class="md-nav__link">
    Do's and Don't
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Jenkins Job Management
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Jenkins Job Management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../jenkins-jobs/jobdsl/" title="JobDSL" class="md-nav__link">
      JobDSL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jenkins-jobs/jenkins-jobs-builder/" title="JenkinsJobsBuilder" class="md-nav__link">
      JenkinsJobsBuilder
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Jenkins Pipelines
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Jenkins Pipelines
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../jenkins-pipeline/declarative-pipeline/" title="Pipeline (declarative)" class="md-nav__link">
      Pipeline (declarative)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jenkins-pipeline/groovy-pipeline/" title="Groovy DSL Pipeline" class="md-nav__link">
      Groovy DSL Pipeline
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jenkins-pipeline/global-shared-library/" title="Pipeline Libraries" class="md-nav__link">
      Pipeline Libraries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jenkins-pipeline/ide-integration-pipeline-dsl/" title="DSL IDE Integration" class="md-nav__link">
      DSL IDE Integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jenkins-pipeline/jenkins-parallel-pipeline/" title="Parallel" class="md-nav__link">
      Parallel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jenkins-pipeline/input/" title="Input" class="md-nav__link">
      Input
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#base-configuration" title="Base configuration" class="md-nav__link">
    Base configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tuning" title="Tuning" class="md-nav__link">
    Tuning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pipeline-as-code" title="Pipeline as code" class="md-nav__link">
    Pipeline as code
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resources" title="Resources" class="md-nav__link">
    Resources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-of-pipeline-jobs" title="Type of pipeline jobs" class="md-nav__link">
    Type of pipeline jobs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api" title="API" class="md-nav__link">
    API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#plugin" title="Plugin" class="md-nav__link">
    Plugin
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dos-and-dont" title="Do's and Don't" class="md-nav__link">
    Do's and Don't
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="jenkins">Jenkins<a class="headerlink" href="#jenkins" title="Permanent link">&para;</a></h1>
<p><a href="https://www.cloudbees.com/jenkins/jenkins-certification">Cloudbees Study Guide</a></p>
<h2 id="base-configuration">Base configuration<a class="headerlink" href="#base-configuration" title="Permanent link">&para;</a></h2>
<p>abc</p>
<h2 id="tuning">Tuning<a class="headerlink" href="#tuning" title="Permanent link">&para;</a></h2>
<p>Please read the following articles from Cloudbees:</p>
<ul>
<li><a href="https://support.cloudbees.com/hc/en-us/articles/222446987-Prepare-Jenkins-for-support">Prepare-Jenkins-for-support</a></li>
<li><a href="https://www.cloudbees.com/blog/joining-big-leagues-tuning-jenkins-gc-responsiveness-and-stability">tuning-jenkins-gc-responsiveness-and-stability</a></li>
<li><a href="https://support.cloudbees.com/hc/en-us/articles/216227047-After-moving-a-job-symlinks-for-folders-became-actual-folders">After-moving-a-job-symlinks-for-folders-became-actual-folders</a></li>
<li><a href="https://support.cloudbees.com/hc/en-us/articles/216973327-How-to-disable-the-weather-column-to-resolve-instance-slowness">How-to-disable-the-weather-column-to-resolve-instance-slowness</a></li>
<li><a href="https://support.cloudbees.com/hc/en-us/articles/203981120-Accessing-graphs-on-a-Build-History-page-can-cause-Jenkins-to-become-unresponsive">Accessing-graphs-on-a-Build-History-page-can-cause-Jenkins-to-become-unresponsive</a></li>
<li><a href="https://support.cloudbees.com/hc/en-us/articles/232312088-AutoBrowser-Feature-Can-Cause-Performance-Issues">AutoBrowser-Feature-Can-Cause-Performance-Issues</a></li>
<li><a href="https://support.cloudbees.com/hc/en-us/articles/229648087-Disk-Space-Issue-after-upgrading-Branch-API-plugin">Disk-Space-Issue-after-upgrading-Branch-API-plugin</a></li>
<li><a href="https://go.cloudbees.com/docs/support-kb-articles/CloudBees-Jenkins-Enterprise/JVM-Memory-settings-best-practice.html">JVM-Memory-settings-best-practice</a></li>
</ul>
<h2 id="pipeline-as-code">Pipeline as code<a class="headerlink" href="#pipeline-as-code" title="Permanent link">&para;</a></h2>
<blockquote>
<p>The default interaction model with Jenkins, historically, has been very web UI driven, requiring users to manually create jobs, then manually fill in the details through a web browser. This requires additional effort to create and manage jobs to test and build multiple projects, it also keeps the configuration of a job to build/test/deploy separate from the actual code being built/tested/deployed. This prevents users from applying their existing CI/CD best practices to the job configurations themselves.</p>
<p>With the introduction of the Pipeline plugin, users now can implement a project’s entire build/test/deploy pipeline in a Jenkinsfile and store that alongside their code, treating their pipeline as another piece of code checked into source control.</p>
</blockquote>
<p>We will dive into several things that come into play when writing Jenkins pipelines.</p>
<ul>
<li>Kind of Pipeline jobs</li>
<li>Info about Pipeline DSL (a groovy DSL)</li>
<li>Reuse pipeline DSL scripts</li>
<li>Things to keep in mind</li>
<li>Do's and Don't</li>
</ul>
<h3 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://jenkins.io/doc/pipeline/steps/">Pipeline Steps</a></li>
<li><a href="https://jenkins.io/solutions/pipeline/">Pipeline Solution</a></li>
<li><a href="https://jenkins.io/doc/pipeline/">Pipeline as Code</a></li>
<li><a href="https://dzone.com/refcardz/continuous-delivery-with-jenkins-workflow">Dzone RefCard</a></li>
</ul>
<h3 id="type-of-pipeline-jobs">Type of pipeline jobs<a class="headerlink" href="#type-of-pipeline-jobs" title="Permanent link">&para;</a></h3>
<ul>
<li>Pipeline (inline)</li>
<li>Pipeline (from SCM)</li>
<li><a href="https://wiki.jenkins-ci.org/display/JENKINS/Multi-Branch+Project+Plugin">Multi-Branch Pipeline</a></li>
<li><a href="https://wiki.jenkins-ci.org/display/JENKINS/Multi-Branch+Project+Plugin">GitHub Organization</a></li>
<li><a href="https://wiki.jenkins-ci.org/display/JENKINS/Bitbucket+Branch+Source+Plugin">BitBucket Team/Project</a></li>
</ul>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>When using the <a href="https://jenkins.io/doc/pipeline/steps/workflow-basic-steps/#code-stash-code-stash-some-files-to-be-used-later-in-the-build">stash function</a> keep in mind that the copying goes from where you are now to the master.
When you unstash, it will copy the files from the master to where you are building.</p>
<p>When your pipeline runs on a node and you stash and then unstash, it will copy the files from the node to the master and then back to the node.
This can have a severe penalty on the performance of your pipeline when you are copying over a network.</p>
</div>
<h2 id="api">API<a class="headerlink" href="#api" title="Permanent link">&para;</a></h2>
<p>Jenkins has an extensive <a href="https://www.devopslibrary.com/lessons/ccjpe-api">API</a> allowing you to retrieve a lot of information from the server.</p>
<h3 id="plugin">Plugin<a class="headerlink" href="#plugin" title="Permanent link">&para;</a></h3>
<p>For this way you of course have to know how to write a plugin.
There are some usefull resources to get started:
* <a href="https://github.com/joostvdg/hello-world-jenkins-pipeline-plugin">https://github.com/joostvdg/hello-world-jenkins-pipeline-plugin</a>
* <a href="https://wiki.jenkins-ci.org/display/JENKINS/Plugin+tutorial">https://wiki.jenkins-ci.org/display/JENKINS/Plugin+tutorial</a>
* <a href="https://jenkins.io/blog/2016/05/25/update-plugin-for-pipeline/">https://jenkins.io/blog/2016/05/25/update-plugin-for-pipeline/</a></p>
<h2 id="dos-and-dont">Do's and Don't<a class="headerlink" href="#dos-and-dont" title="Permanent link">&para;</a></h2>
<p>Aside from the <a href="https://www.cloudbees.com/blog/top-10-best-practices-jenkins-pipeline-plugin">Do's and Don'ts</a> from Cloudbees, there are some we want to share.</p>
<p>This changes the requirement for the component identifier property, as a job may only match a single group and a job listing in a group can only match a single. Thus the easiest way to make sure everything will stay unique (template names probably don’t), is to make the component identifier property unique per file - let it use the name of the project.</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Home" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Home
              </span>
            </div>
          </a>
        
        
          <a href="../jenkins-jobs/jobdsl/" title="JobDSL" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                JobDSL
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017 Joost van der Griendt
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-c35428f87f.js"></script>
      
      
      <script>app.initialize({url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>